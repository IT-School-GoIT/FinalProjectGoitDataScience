{% load static %}
{% load i18n %}

<!-- Carousel Start -->
<div class="carousel-header position-relative" style="height: 100vh; background-image: url('{% static 'img/carousel-11.jpg' %}'); background-size: cover; background-position: center;">
    
    <!-- Накладання затемнення -->
    <div class="overlay" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5);"></div>
    
    <!-- Логотип і контент на одному рівні -->
    <div class="container-fluid h-100 d-flex justify-content-end align-items-center position-relative">
        
        <!-- Ліва частина: Лого з анімацією -->
        <div class="position-absolute logo-animation" style="left: 25%; top: 50%; transform: translate(-50%, -50%);" id="logo-container">
            <img src="{% static 'img/logo1.jpg' %}" alt="Logo" class="img-fluid rounded-logo" id="logo-img"> <!-- Видалено max-width -->
        </div>
        
        <!-- Права частина: Текст та кнопки -->
        <div class="carousel-caption-1-content text-right" style="max-width: 900px;">
            <h2 class="text-white text-uppercase fw-bold mb-4 fadeInUp" style="animation-delay: 1s;">{% trans "Перевірка згорткової нейронної мережі" %}</h2>
            <div class="carousel-caption-1-content-btn fadeInUp" style="animation-delay: 1.3s;">
                <a class="btn btn-secondary rounded-pill flex-shrink-0 py-3 px-5 ms-2" style="margin-bottom: 30px;" href="{% url 'recognition:index2' %}">{% trans "Тест мережі" %}</a>
            </div>
            <h2 class="text-white text-uppercase fw-bold mb-4 fadeInUp" style="animation-delay: 1.5s;">{% trans "Чат на базі GPT-4o-mini" %}</h2>
            <div class="carousel-caption-2-content-btn fadeInUp" style="animation-delay: 1.7s;">
            {% if user.is_authenticated %}
                <a class="btn btn-secondary rounded-pill flex-shrink-0 py-3 px-5 ms-2" style="margin-bottom: 30px;" href="{% url 'chat_page' %}">{% trans "Спробувати чат" %}</a>
            {% else %}
                <a class="btn btn-secondary rounded-pill flex-shrink-0 py-3 px-5 ms-2" style="margin-bottom: 30px;" href="#" data-bs-toggle="modal" data-bs-target="#authModal">{% trans "Спробувати чат" %}</a>
            {% endif %}                        
            </div>

            <h2 class="text-white text-uppercase fw-bold mb-4 fadeInUp" style="animation-delay: 2s;">{% trans "Гра з нейронною мережею" %}</h2>
            <div class="carousel-caption-2-content-btn fadeInUp" style="animation-delay: 2.2s;">
                <a class="btn btn-secondary rounded-pill flex-shrink-0 py-3 px-5 ms-2" href="{% url 'game2:play_game' %}">{% trans "Грати зараз" %}</a>
            </div>
        </div>
    </div>

    <!-- Модальне вікно для неавторизованих користувачів -->
    <div class="modal fade" id="authModal" tabindex="-1" aria-labelledby="authModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="authModalLabel">{% trans "Авторизація потрібна" %}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>{% trans "Щоб скористатися чатом, вам необхідно увійти в систему." %}</p>
                </div>
                <div class="modal-footer">
                    <a href="{% url 'accounts:login' %}" class="btn btn-primary">{% trans "Увійти" %}</a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Carousel End -->

<!-- CSS для анімації та стилізації логотипа -->
<style>
    .logo-animation {
        animation: fadeInOut 4s infinite;
    }

    @keyframes fadeInOut {
        0%, 100% {
            opacity: 0.20; /* 15% прозорість */
        }
        50% {
            opacity: 0.80; /* 85% прозорість */
        }
    }

    .rounded-logo {
        border-radius: 15px; /* Заокруглення країв */
    }

    /* Адаптивність логотипа */
    @media (max-width: 1500px) {
        #logo-img {
            max-width: 250px; /* Зменшити лого вдвічі при 1400px */
        }
    }

    @media (max-width: 1300px) {
        #logo-img {
            max-width: 200px; 
        }
    }

    @media (max-width: 1000px) {
        #logo-img {
            max-width: 100px;
        }
    }

    @media (max-width: 900px) {
        #logo-container {
            display: none; 
        }
    }
</style>
